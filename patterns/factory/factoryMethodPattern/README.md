# 팩토리 메소드 패턴(Factory Method Pattern)

## 개념

### Head First 디자인 패턴

팩토리 메소드 패턴(Factory Method Pattern)에서는 객체를 생성할 때 필요한 인터페이스를 만듭니다. 어떤 클래스의 인스턴스를 만들지는 서브클래스에서 결정합니다. 팩토리 메소드 패턴을 사용하면 클래스 인스턴스 만드는 일을 서브클래스에게 맡기게 됩니다.

### GoF의 디자인 패턴

객체를 생성하는 인터페이스는 미리 정의하되, 인스턴스를 만들 클래스의 결정은 서브 클래스 쪽에서 내리는 패턴입니다. 팩토리 메서드 패턴에서는 클래스의 인스턴스를 만드는 시점을 서브클래스로 미룹니다.

### Head First 디자인 패턴

추상 팩토리 패턴(Abstract Factory Pattern)은 구상 클래스에 의존하지 않고도 서로 연관되거나 의존적인 객체로 이루어진 제품군을 생산하는 인터페이스를 제공합니다. 구상 클래스는 서브클래스에서 만듭니다.

### GoF의 디자인 패턴

구체적인 클래스를 지정하지 않고 관련성을 갖는 객체들의 집합을 생성하거나 서로 독립적인 객체들의 집합을 생서할 수 있는 인터페이스를 제공하는 패턴입니다.

## 요약

## 설명

## FactoryMethod

간단한 팩토리(Simple Factory)를 사용함에 따라 겪게 될 문제를 보완하기 위해, 기존 팩토리인 createPizza를 추상 클래스로 선언하고, 팩토리의 서브클래스를 통해 실제 팩토리를 구현하여 그 내부에서 각 Pizza 객체 생성에 관한 의존성을 관리하도록 나눈 것으로, 복수의 팩토리를 지원, 관리하기 위한 구조.

간단한 팩토리는 일회용에 불과한 반면 팩토리 메소드 패턴을 사용하면 재사용 가능한 프레임워크를 만들 수 있다.

슈퍼클래스(PizzaStore)에 있는 orderPizza 메소드는 요청받게 될 피자에 대한 정보는 전혀 알지 못하며, 인터페이스에 정의되어있는 행위(자르기, 굽기, 포장하기 등)만을 제어한다. 피자의 종류는 선택한 서브클래스에 의해 결정된다.

즉, 팩토리 메소드 패턴은 객체 생성을 서브클래스에 캡슐화할 수 있습니다. 이로 인해 슈퍼클래스에 있는 클라이언트 코드와 서브클래스에 있는 객체 생성 코드(팩토리)를 분리할 수 있게 됩니다.

모든 팩토리 패턴은 객체 생성을 캡슐화한다.
팩토리 메소드 패턴은 서브클래스에서 어떤 클래스를 만들지 결정함으로써 객체 생성을 캡슐화한다. (p.165, p.166 다이어그램 참고)

Creator 추상 클래스에서 객체를 만드는 메소드, 즉 팩토리 메소드용 인터페이스를 제공하기 때문에 팩토리 메소드 패턴이란 이름이 붙은 것이라 생각 됨. (p.168)

[복습]
구체적으로 어떤것을 만들지는 서브클래스가 정한다.

팩토리 메소드 패턴을 적용했을 때의 장점 / 단점
-> 장점
OCP 원칙을 적용하여, 기존 코드를 수정하지 않고 동종의 객체를 쉽게 확장 가능하다
제품군과 생선부 간의 결합도를 느슨하게 결합하였기 때문에 가능

의존성 있는 객체 생성 코드를 한 객체 또는 메소드에 넣어 중복을 방지하고, 관리 포인트를 집중할 수 있다.
인스턴스 생성 시에도 인터페이스만 알고있으면 되므로 유연성과 확장성이 뛰어나다.

-> 단점
각자의 역할을 세세하게 나누기 때문에 클래스(계층)가 많아짐, 복잡도가 올라감
